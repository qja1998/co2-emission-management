{"ast":null,"code":"import navigation from \"@/components/Navigation.vue\";\nimport predict_header from \"@/components/predict/Header.vue\";\nimport predict_dash1 from \"@/components/predict/dash1/dash1.vue\";\nimport predict_dash2 from \"@/components/predict/dash2/dash2.vue\";\nimport predict_dash3 from \"@/components/predict/dash3/dash3.vue\";\nimport predict_dash4 from \"@/components/predict/dash4/dash4.vue\";\nimport predict_dash5 from \"@/components/predict/dash5/dash5.vue\";\nimport { useStore } from 'vuex';\nimport { ref, computed } from 'vue';\nimport axios from 'axios';\nexport default {\n  name: \"predict\",\n  components: {\n    navigation,\n    predict_header,\n    predict_dash1,\n    predict_dash2,\n    predict_dash3,\n    predict_dash4,\n    predict_dash5\n  },\n  setup() {\n    var store = useStore();\n    var group_list = computed(() => store.state.group_list).value;\n    var selected_company = ref(group_list[0]);\n    store.commit(\"insight_select_company\", selected_company.value);\n    var now = new Date(); // 현재 날짜 및 시간\n    var year = ref(now.getFullYear()); // 년도\n    var lastmonth = new Date(now);\n    lastmonth.setMonth(lastmonth.getMonth() - 5);\n    var rerender_signal = ref(0);\n    var server = ref(0);\n    const config = {\n      headers: {\n        Authorization: \"Bearer\" + \" \" + store.state.accessToken\n      }\n    };\n\n    //카테고리별 다음달 예측\n    async function get_predict_category_next_month() {\n      store.commit(\"insight_select_company\", selected_company.value);\n      var url = \"/CarbonPrediction/CategoryPrediction/\" + selected_company.value;\n      await axios.get(url, config).then(res => {\n        store.commit('getNextMonthcategory', res.data);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {\n        server.value = server.value + 1;\n        console.log(server.value);\n      });\n\n      //현재 총 데이터 url 하드코딩 해놓음\n      var url = \"/CarbonEmission/PartEmission/\" + selected_company.value + \"/\" + year.value + \"-\" + \"01\" + \"-01/\" + year.value + \"-\" + \"06\" + \"-28/0\";\n      await axios.get(url, config).then(res => {\n        store.commit('getTotalLastDataList', res.data);\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {\n        server.value = server.value + 1;\n        console.log(server.value);\n      });\n\n      //총 데이터 예측 url 하드코딩 해놓음\n      var url = \"/CarbonPrediction/PartPrediction/\" + selected_company.value + \"/0\";\n      await axios.get(url, config).then(res => {\n        store.commit('getPredictTotal', res.data);\n      }).catch(error => {\n        console.log(error);\n        store.commit('getPredictTotal', []);\n      }).finally(() => {\n        rerender_signal.value += 1;\n        server.value = server.value + 1;\n        console.log(server.value);\n      });\n    }\n    console.log('1', selected_company.value);\n    get_predict_category_next_month();\n    function change_company() {\n      store.commit(\"insight_select_company\", selected_company.value);\n      console.log('1', selected_company.value);\n      get_predict_category_next_month();\n      rerender_signal.value += 1;\n      server.value = 0;\n    }\n    return {\n      group_list,\n      selected_company,\n      change_company,\n      rerender_signal,\n      server\n    };\n  },\n  created() {},\n  mounted() {\n    this.rerender_signal += 1;\n  }\n};","map":{"version":3,"names":["navigation","predict_header","predict_dash1","predict_dash2","predict_dash3","predict_dash4","predict_dash5","useStore","ref","computed","axios","name","components","setup","store","group_list","state","value","selected_company","commit","now","Date","year","getFullYear","lastmonth","setMonth","getMonth","rerender_signal","server","config","headers","Authorization","accessToken","get_predict_category_next_month","url","get","then","res","data","catch","error","console","log","finally","change_company","created","mounted"],"sources":["C:\\Users\\user\\Desktop\\CarbonVueproject\\co2-emission-management\\vueProject\\src\\views\\Predict\\predictCarbonPreview.vue"],"sourcesContent":["<template>\r\n  <div class=\"measure-main\">\r\n      <navigation class=\"navigation\"/>\r\n      <div class=\"contents\">\r\n          <predict_header/>\r\n          <div class=\"background\">\r\n            <div style=\"height:140vh;\">\r\n                <select class=\"select_group\" v-model=\"selected_company\" @change=\"change_company(selected_company)\">\r\n                  <option v-for=\"item in group_list\" :key=\"item\">{{ item }}</option>\r\n                </select>\r\n                <span class=\"header-page\" style=\"margin:0\">탄소 배출량 예측 전체보기<br>\r\n                    <span class=\"subHeader-page\">Predicted Carbon emission Overview</span>\r\n                </span>\r\n                <div v-if=\"server!=3\">\r\n                    <div class=\"progress-bar\"></div>\r\n                </div>\r\n                <div v-else-if=\"server==3\">\r\n                    <div id=\"wrap1\">\r\n                        <div style=\"height:15vh\"><predict_dash1 class=\"dash\"/></div>\r\n                        <predict_dash2 :key=\"rerender_signal\" class=\"dash\" id=\"dash2\"/>\r\n                    </div>\r\n                    \r\n                    <div id=\"wrap2\" style=\"margin-top:2vh\">\r\n                        <predict_dash3 :key=\"rerender_signal\" class=\"dash\"/>\r\n                        <predict_dash4  :key=\"rerender_signal\" class=\"dash\" id=\"dash4\"/>\r\n                        \r\n                    </div>\r\n                    <predict_dash5 :key=\"rerender_signal\" class=\"dash\"  id=\"dash5\"/>\r\n                </div>\r\n                \r\n              </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style>\r\n.background{\r\n    background:#F7F9FB;\r\n    min-height:86vh;\r\n    height: inherit;\r\n    padding:3vh 2.5vw;\r\n}\r\n.header-page{\r\n    color:#5A5A5A;\r\n    font-size:1.5rem;\r\n    font-weight :600;\r\n}\r\n.subHeader-page{\r\n    color:#5A5A5A;\r\n    font-size:1rem;\r\n    font-weight:200;\r\n}\r\n#wrap1 > * {\r\n    float: left;\r\n}\r\n\r\n#wrap1::after {\r\n    content: \"\";\r\n    display: block;\r\n    clear: both;\r\n}\r\n#wrap2 > * {\r\n    margin-top:3vh;\r\n    float: left;\r\n}\r\n\r\n#dash2{\r\n    margin-left:2vw;\r\n}\r\n\r\n#dash4{\r\n    margin-left:2vw\r\n}\r\n#dash5{\r\n    float:right; \r\n    margin-right:2vw;\r\n    margin-top:3vh\r\n}\r\n.progress-bar{\r\n    width:20vw;\r\n    height:2vh;\r\n    background: #d4d4d4;\r\n    margin: auto;\r\n    margin-top: 30vh;\r\n    border-radius: 2vh;\r\n    background: linear-gradient(#d4d4d4, #b1e6e854);\r\n}\r\n</style>\r\n\r\n<script>\r\nimport navigation from \"@/components/Navigation.vue\"\r\nimport predict_header from \"@/components/predict/Header.vue\"\r\nimport predict_dash1 from \"@/components/predict/dash1/dash1.vue\"\r\nimport predict_dash2 from \"@/components/predict/dash2/dash2.vue\"\r\nimport predict_dash3 from \"@/components/predict/dash3/dash3.vue\"\r\nimport predict_dash4 from \"@/components/predict/dash4/dash4.vue\"\r\nimport predict_dash5 from \"@/components/predict/dash5/dash5.vue\"\r\nimport {useStore} from 'vuex'\r\nimport {ref, computed} from 'vue'\r\nimport axios from 'axios'\r\n\r\n  export default {\r\n      name :\"predict\",\r\n      components:{\r\n          navigation,\r\n          predict_header,\r\n          predict_dash1,\r\n          predict_dash2,\r\n          predict_dash3,\r\n          predict_dash4,\r\n          predict_dash5,\r\n      },\r\n      setup() {\r\n        var store = useStore()\r\n        var group_list = computed(() => store.state.group_list).value\r\n        var selected_company = ref(group_list[0])\r\n        store.commit(\"insight_select_company\",selected_company.value)\r\n        \r\n        var now = new Date();\t// 현재 날짜 및 시간\r\n        var year = ref(now.getFullYear())\t// 년도\r\n        var lastmonth= new Date(now)\r\n        lastmonth.setMonth(lastmonth.getMonth() - 5)\r\n\r\n        var rerender_signal = ref(0)\r\n\r\n\r\n        var server  = ref(0)\r\n\r\n        const config = {\r\n            headers:{\r\n                Authorization:\"Bearer\"+\" \"+store.state.accessToken,\r\n            }\r\n        }\r\n\r\n        //카테고리별 다음달 예측\r\n        async function get_predict_category_next_month(){\r\n\r\n            store.commit(\"insight_select_company\",selected_company.value)\r\n\r\n            var url = \"/CarbonPrediction/CategoryPrediction/\"+selected_company.value\r\n            await axios.get(url,config).then(res=>{\r\n                store.commit('getNextMonthcategory',res.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n            .finally(()=>{\r\n                server.value = server.value + 1\r\n                console.log(server.value)\r\n            })\r\n\r\n\r\n            //현재 총 데이터 url 하드코딩 해놓음\r\n            var url = \"/CarbonEmission/PartEmission/\"+selected_company.value+\"/\"+year.value+\"-\"+\"01\"+\"-01/\"+year.value+\"-\"+\"06\"+\"-28/0\"\r\n            await axios.get(url,config).then(res=>{\r\n                store.commit('getTotalLastDataList',res.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n            .finally(()=>{\r\n                server.value =server.value + 1\r\n                console.log(server.value)\r\n            })\r\n            \r\n            //총 데이터 예측 url 하드코딩 해놓음\r\n            var url = \"/CarbonPrediction/PartPrediction/\"+selected_company.value+\"/0\"\r\n            await axios.get(url,config).then(res=>{\r\n                store.commit('getPredictTotal',res.data)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                store.commit('getPredictTotal',[])\r\n            })\r\n            .finally(()=>{\r\n                rerender_signal.value +=1\r\n                server.value =server.value + 1\r\n                console.log(server.value)\r\n            })\r\n        }       \r\n\r\n        console.log('1', selected_company.value)\r\n        get_predict_category_next_month()\r\n\r\n        function change_company(){\r\n            store.commit(\"insight_select_company\",selected_company.value)\r\n            console.log('1', selected_company.value)\r\n            get_predict_category_next_month()\r\n            rerender_signal.value +=1\r\n            server.value = 0\r\n        }\r\n        return{\r\n            group_list,\r\n            selected_company,\r\n            change_company,\r\n            rerender_signal,\r\n            server\r\n        }\r\n      },\r\n      created(){\r\n      },  \r\n      mounted(){\r\n        this.rerender_signal +=1\r\n      }\r\n  }\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}