{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useStore } from 'vuex';\nimport { computed, ref } from 'vue';\nexport default {\n  name: \"target_dash1\",\n  components: {},\n  setup() {\n    const store = useStore();\n    var editContent = ref(false);\n    var edit = ref([false, -1]);\n    var del = ref([false, -1]);\n    var add = ref([false, '']);\n\n    //수정과 추가시 선택하는데 필요한 리스트\n    var categoryList = computed(() => store.state.CarbonCategories);\n    var transEnargyList = ['태양열 에너지', '풍력 에너지', '태양광 에너지'];\n    var category = '고정연소';\n    var transEnargy = '태양열 에너지';\n\n    //사용자의 전환, 감축 목표 리스트\n    var targetList = [{\n      kind: 0,\n      index: 0,\n      category: '전력사용',\n      percentage: 30,\n      target: \"태양열 에너지\"\n    }, {\n      kind: 0,\n      index: 1,\n      category: '전력사용',\n      percentage: 30,\n      target: \"태양열 에너지\"\n    }, {\n      kind: 0,\n      index: 2,\n      category: '전력사용',\n      percentage: 30,\n      target: \"태양열 에너지\"\n    }, {\n      kind: 0,\n      index: 3,\n      category: '전력사용',\n      percentage: 30,\n      target: \"태양열 에너지\"\n    }, {\n      kind: 1,\n      index: 4,\n      category: '전력사용',\n      percentage: 30\n    }, {\n      kind: 1,\n      index: 5,\n      category: '전력사용',\n      percentage: 30\n    }, {\n      kind: 1,\n      index: 6,\n      category: '전력사용',\n      percentage: 30\n    }];\n\n    // 내용 추가 팝업창 여는 함수\n    // const clickOpenAddTarget = () => {\n    //     store.commit('openAddTarget')\n    //     console.log('open')\n    // }\n\n    var select = ref(-1); // 마우스가 가르키고있는 리스트 내용\n    var listKind = ref(''); // 전환인지, 감축인지 \n\n    //마우스 오버시 수정, 삭제 기능 옵션 on\n    const hoverTarget = value => {\n      select.value = value.index;\n    };\n\n    //마우스 오버시 수정, 삭제 기능 옵션 off\n    const leaveTarget = () => {\n      select.value = -1;\n    };\n\n    //추가하기 버튼 클릭시 추가 폼 여는 함수\n    function addList(kind_) {\n      add.value[0] = true;\n      add.value[1] = kind_;\n      console.log(add.value);\n    }\n\n    //수정하기 버튼 클릭시 수정 폼 여는 함수\n    function clickEditTarget(index) {\n      edit.value[0] = true;\n      edit.value[1] = index;\n    }\n\n    //추가 완료후 리스트 업\n    function submitAdd() {\n      add.value[0] = false;\n      add.value[1] = '';\n      var addIndex = transList.slice(-1);\n      console.log(addIndex);\n      transList.push({\n        index: addIndex + 1,\n        category: '고정사용',\n        percentage: 30,\n        target: \"태양열 에너지\"\n      });\n      editContent.value = true;\n      console.log(transList);\n    }\n\n    //수정 완료후 리스트 업\n    function submitEdit(trans) {\n      console.log('수정엔터');\n      transList[trans.index] = {\n        index: 4,\n        category: '고정연소',\n        percentage: 30,\n        target: \"태양열 에너지\"\n      };\n      edit.value[0] = false;\n      edit.value[1] = -1;\n      editContent.value = true;\n    }\n\n    //서버에 저장\n    function clickSaveTarget() {\n      console.log('저장');\n      editContent.value = false;\n    }\n    return {\n      targetList,\n      // clickOpenAddTarget,\n      select,\n      listKind,\n      hoverTarget,\n      leaveTarget,\n      clickSaveTarget,\n      clickEditTarget,\n      categoryList,\n      category,\n      edit,\n      add,\n      submitEdit,\n      submitAdd,\n      addList,\n      editContent,\n      transEnargy,\n      transEnargyList\n    };\n  }\n};","map":{"version":3,"names":["useStore","computed","ref","name","components","setup","store","editContent","edit","del","add","categoryList","state","CarbonCategories","transEnargyList","category","transEnargy","targetList","kind","index","percentage","target","select","listKind","hoverTarget","value","leaveTarget","addList","kind_","console","log","clickEditTarget","submitAdd","addIndex","transList","slice","push","submitEdit","trans","clickSaveTarget"],"sources":["/home/hyemi/carbon/co2-emission-management/vueProject/src/components/nature/target/list/targetList.vue"],"sourcesContent":["<template>\n    <div> \n        <div class=\"frame\" id=\"target-list\">\n            <div class=\"list-box\">\n                전환\n                <img src=\"@/assets/addBtn2.png\" class=\"icon add-icon\" @click=\"addList('전환')\">\n                <div class=\"list-content-group\">\n                    <div class='list-content' v-for = \"trans in targetList\">\n                        {{ trans }}\n                        <div v-if=\"trans.kind==0\">\n                            <span class=\"direction-icon\">▶</span>\n                            <!-- 리스트 내용 -->\n                            <span class=\"list-content-text\" v-if=\"edit[0]==false||edit[1]!=trans.index\">{{ trans.category }}의 {{ trans.percentage}}%를 {{ trans.target }}로 전환</span>\n                            <!-- hover시 -->\n                            <div class=\"target-icon\" v-if=\"select==trans.index && trans.kind==0\">\n                                <img src=\"@/assets/editBtn.png\" v-if=\"edit[0]==false||edit[1]!=trans.index\" @click=\"clickEditTarget(trans.index)\">\n                                <img style=\"margin:0vh 1vw\" src=\"@/assets/deleteBtn.png\" v-if=\"edit[0]==false||edit[1]!=trans.index\" @click=\"clickDeleteTarget(trans.index)\">\n                            </div>\n                        </div>\n                        <!-- 리스트 수정 -->\n                        <span class=\"list-content-text\" v-if=\"edit[0]==true && edit[1]==trans.index\" v-on:keyup.enter=\"submitEdit(trans)\">\n                            <select v-model=\"category\" class=\"box drop-box\" >\n                                <option :value=\"cate\" v-for=\"cate in categoryList\">{{ cate }}</option>\n                            </select> 의 <input class=\"box input-box\"  placeholder='30'> %를\n                            <select v-model=\"transEnargy\" class=\"box drop-box\" >\n                                <option :value=trans v-for=\"trans in transEnargyList\">{{trans}}</option >\n                            </select> 로 <input class=\"box input-box\"> 전환\n                        </span> \n                    </div>\n                    <!-- 리스트 추가 -->\n                    <div class='list-content' v-if=\"add[0]==true && add[1]=='전환' \">\n                        <span class=\"list-content-text\" v-on:keyup.enter=\"submitAdd()\">\n                            <select v-model=\"category\" class=\"box drop-box\" >\n                                <option :value=\"cate\" v-for=\"cate in categoryList\">{{ cate }}</option>\n                            </select> 의 <input class=\"box input-box\" placeholder='30'> %를\n                            <select v-model=\"transEnargy\" class=\"box drop-box\" >\n                                <option :value=trans v-for=\"trans in transEnargyList\">{{trans}}</option >\n                            </select> 로 <input class=\"box input-box\"> 전환\n                        </span> \n                    </div>\n                </div>\n            </div>\n            <div class = \"line\"></div>\n            <div class=\"list-box increse-box\">\n                감축\n                <img src=\"@/assets/addBtn2.png\" class=\"icon add-icon\" @click=\"addList('감축')\">\n                <div class=\"list-content-group\">\n                    <div class =\"list-content\" v-for = \"increas in targetList\" v-on:mouseover=\"hoverTarget(increas)\" v-on:mouseleave=\"leaveTarget()\">\n                        <div v-if=\"increas.kind=1\">\n                            <span class=\"direction-icon\">▶</span>\n                            <!-- 리스트 내용 -->\n                            <span class=\"list-content-text\" v-if=\"edit[0]==false||edit[1]!=increas.index\">{{increas.category}}의 {{increas.percentage}}%를 감축</span>\n                            <div class=\"target-icon\" v-if = \"select=increas.index && increas.kind==0\">\n                                <img src=\"@/assets/editBtn.png\" v-if=\"edit[0]==false||edit[1]!=increas.index\" @click=\"clickEditTarget(increas.index)\">\n                                <img  style=\"margin:0vh 1vw\" src=\"@/assets/deleteBtn.png\" v-if=\"edit[0]==false||edit[1]!=increas.index\" @click=\"clickDeleteTarget(increas.index)\">\n                            </div>\n                        </div>\n                        \n                        <!-- 리스트 수정 -->\n                        <span class=\"list-content-text\" v-if=\"edit[0]==true && edit[1]==increas.index\" v-on:keyup.enter=\"submitEdit(increas.index)\">\n                            <select v-model=\"category\" class=\"box drop-box\" >\n                                <option :value=\"cate\" v-for=\"cate in categoryList\">{{ cate }}</option>\n                            </select> 의 <input class=\"box input-box\"  placeholder='30'> %를 감축\n                        </span> \n                    </div>\n                    <!-- 리스트 추가 -->\n                    <div class='list-content' v-if=\"add[0]==true && add[1]=='감축'\">\n                        <span class=\"list-content-text\" v-on:keyup.enter=\"submitAdd('감축')\">\n                            <select v-model=\"category\" class=\"box drop-box\" >\n                                <option :value=\"cate\" v-for=\"cate in categoryList\">{{ cate }}</option>\n                            </select> 의 <input class=\"box input-box\"  placeholder='30'> %를 감축\n                        </span> \n                    </div>\n                </div>\n            </div>\n            <button :class=\"{clickbtn: editContent, 'nonclickbtn': !editContent}\" id=\"target-add-btn\" @click=\"clickSaveTarget()\">저장하기</button>\n            <!-- <button class=\"clickbtn\" id=\"target-add-btn\" @click=\"clickOpenAddTarget()\">+ 추가하기</button> -->\n        </div>\n    </div>\n        \n\n</template>\n\n\n\n<script>\nimport { useStore } from 'vuex'\nimport {computed, ref} from 'vue'\n    export default {\n        name :\"target_dash1\",\n        components:{\n        },\n        setup(){\n            const store = useStore();\n            var editContent = ref(false);\n            var edit = ref([false, -1]);\n            var del = ref([false, -1]);\n            var add = ref([false,''])\n\n            //수정과 추가시 선택하는데 필요한 리스트\n            var categoryList= computed(() => store.state.CarbonCategories)\n            var transEnargyList = [\n                '태양열 에너지',\n                '풍력 에너지',\n                '태양광 에너지'\n            ]\n            var category ='고정연소'\n            var transEnargy ='태양열 에너지'\n\n            //사용자의 전환, 감축 목표 리스트\n            var targetList=[\n                {kind:0, index:0,category:'전력사용', percentage: 30, target: \"태양열 에너지\"},\n                {kind:0,index:1,category:'전력사용', percentage: 30, target: \"태양열 에너지\"},\n                {kind:0,index:2,category:'전력사용', percentage: 30, target: \"태양열 에너지\"},\n                {kind:0,index:3,category:'전력사용', percentage: 30, target: \"태양열 에너지\"},\n                {kind:1,index:4,category:'전력사용', percentage: 30},\n                {kind:1,index:5,category:'전력사용', percentage: 30},\n                {kind:1,index:6,category:'전력사용', percentage: 30}\n            ]\n\n            // 내용 추가 팝업창 여는 함수\n            // const clickOpenAddTarget = () => {\n            //     store.commit('openAddTarget')\n            //     console.log('open')\n            // }\n\n            var select =ref(-1) // 마우스가 가르키고있는 리스트 내용\n            var listKind = ref('') // 전환인지, 감축인지 \n\n            //마우스 오버시 수정, 삭제 기능 옵션 on\n            const hoverTarget=(value)=>{\n                select.value = value.index\n            }\n\n            //마우스 오버시 수정, 삭제 기능 옵션 off\n            const leaveTarget=()=>{\n                select.value = -1\n            }\n\n            //추가하기 버튼 클릭시 추가 폼 여는 함수\n            function addList(kind_){\n                add.value[0]=true\n                add.value[1]=kind_   \n                console.log(add.value)\n            }\n\n            //수정하기 버튼 클릭시 수정 폼 여는 함수\n            function clickEditTarget(index){\n                edit.value[0] = true\n                edit.value[1] = index\n            }\n\n            //추가 완료후 리스트 업\n            function submitAdd(){\n                add.value[0]=false\n                add.value[1]=''\n                var addIndex = transList.slice(-1)\n                console.log(addIndex)\n                transList.push({index:addIndex+1, category:'고정사용', percentage: 30, target: \"태양열 에너지\"})\n                editContent.value = true\n                console.log(transList)\n            }\n\n            //수정 완료후 리스트 업\n            function submitEdit(trans){\n                console.log('수정엔터')\n                transList[trans.index] = {index:4, category:'고정연소', percentage: 30, target: \"태양열 에너지\"}\n                edit.value[0]=false\n                edit.value[1]=-1\n                editContent.value = true\n            }\n\n            \n            //서버에 저장\n            function clickSaveTarget(){\n                console.log('저장')\n                editContent.value=false\n            }\n\n            return{\n                targetList,\n                // clickOpenAddTarget,\n                select,\n                listKind,\n                hoverTarget,\n                leaveTarget,\n                clickSaveTarget,\n                clickEditTarget,\n                categoryList,\n                category,\n                edit,\n                add,\n                submitEdit,\n                submitAdd,\n                addList,\n                editContent,\n                transEnargy,\n                transEnargyList\n            }\n        }\n    }\n</script>\n\n<style>\n.clickbtn{\n    background: #3DC984;\n    border: none;\n    border-radius: 1vh;\n    width:8vw;\n    height: 5vh;\n    color:white\n}\n.clickbtn:hover{\n    cursor: pointer;\n}\n.nonclickbtn{\n    background: #AEAEAE;\n    border: none;\n    border-radius: 1vh;\n    width:8vw;\n    height: 5vh;\n    color:white\n}\n#target-list{\n    margin-top:1px;\n    min-height:60vh;\n    width:71vw;\n    padding:5vh 4vw\n}\n.list-box{\n    font-size:1.5rem; \n    font-weight: bold;\n    float:left; \n    width:35vw; \n    min-height: 57vh;\n}\n.increse-box{\n    width:29.9vw;\n}\n.line{\n    min-height: 60vh; \n    width:1px;\n    background:#EEEEEF; \n    float:left; \n    margin:0 3vw\n}\n.list-content-group{\n    overflow: auto;\n    height: 45.7vh;\n    margin-top:8vh; \n    font-size:1.1rem; \n    font-weight: 400 ;\n}\n.direction-icon{\n    display:inline-block;\n    color:#3DC984; \n    margin:3.5vh 1vw;\n}\n.list-content-text{\n   font-size:1.1rem\n}\n.list-content:hover{\n    border-radius: 2vh;\n    background: #f0f0f0;\n}\n.box{\n    height:4vh;\n    width:7vw;\n    font-size:1rem;\n    border-radius: 0.7vh;\n    border: 1px solid #D0D0D0;\n}\n.input-box{\n    height: 3.7vh;\n    width:3vw;\n}\n.drop-box{\n    background: #EFF1F9;\n    border: none;\n}\n#target-add-btn{\n    float:right;\n}\n.icon{\n    height:4vh;\n}\n.icon:hover{\n    cursor: pointer;\n}\n.add-icon{\n    float:right\n}\n.target-icon{\n    display:inline-block; \n    float: right; \n    margin-top:2.7vh\n}\n.target-icon> img{\n    height:4vh;\n}\n.target-icon> img:hover{\n    cursor: pointer;\n}\n</style>\n"],"mappings":";AAsFA,SAASA,QAAO,QAAS,MAAK;AAC9B,SAAQC,QAAQ,EAAEC,GAAG,QAAO,KAAI;AAC5B,eAAe;EACXC,IAAG,EAAG,cAAc;EACpBC,UAAU,EAAC,CACX,CAAC;EACDC,KAAKA,CAAA,EAAE;IACH,MAAMC,KAAI,GAAIN,QAAQ,EAAE;IACxB,IAAIO,WAAU,GAAIL,GAAG,CAAC,KAAK,CAAC;IAC5B,IAAIM,IAAG,GAAIN,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;IAC3B,IAAIO,GAAE,GAAIP,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAIQ,GAAE,GAAIR,GAAG,CAAC,CAAC,KAAK,EAAC,EAAE,CAAC;;IAExB;IACA,IAAIS,YAAY,GAAEV,QAAQ,CAAC,MAAMK,KAAK,CAACM,KAAK,CAACC,gBAAgB;IAC7D,IAAIC,eAAc,GAAI,CAClB,SAAS,EACT,QAAQ,EACR,SAAQ,CACZ;IACA,IAAIC,QAAO,GAAG,MAAK;IACnB,IAAIC,WAAU,GAAG,SAAQ;;IAEzB;IACA,IAAIC,UAAU,GAAC,CACX;MAACC,IAAI,EAAC,CAAC;MAAEC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAS,CAAC,EACpE;MAACH,IAAI,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAS,CAAC,EACnE;MAACH,IAAI,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAS,CAAC,EACnE;MAACH,IAAI,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAS,CAAC,EACnE;MAACH,IAAI,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE;IAAE,CAAC,EAChD;MAACF,IAAI,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE;IAAE,CAAC,EAChD;MAACF,IAAI,EAAC,CAAC;MAACC,KAAK,EAAC,CAAC;MAACJ,QAAQ,EAAC,MAAM;MAAEK,UAAU,EAAE;IAAE,EACnD;;IAEA;IACA;IACA;IACA;IACA;;IAEA,IAAIE,MAAK,GAAGpB,GAAG,CAAC,CAAC,CAAC,GAAE;IACpB,IAAIqB,QAAO,GAAIrB,GAAG,CAAC,EAAE,GAAE;;IAEvB;IACA,MAAMsB,WAAW,GAAEC,KAAK,IAAG;MACvBH,MAAM,CAACG,KAAI,GAAIA,KAAK,CAACN,KAAI;IAC7B;;IAEA;IACA,MAAMO,WAAW,GAACA,CAAA,KAAI;MAClBJ,MAAM,CAACG,KAAI,GAAI,CAAC;IACpB;;IAEA;IACA,SAASE,OAAOA,CAACC,KAAK,EAAC;MACnBlB,GAAG,CAACe,KAAK,CAAC,CAAC,CAAC,GAAC,IAAG;MAChBf,GAAG,CAACe,KAAK,CAAC,CAAC,CAAC,GAACG,KAAI;MACjBC,OAAO,CAACC,GAAG,CAACpB,GAAG,CAACe,KAAK;IACzB;;IAEA;IACA,SAASM,eAAeA,CAACZ,KAAK,EAAC;MAC3BX,IAAI,CAACiB,KAAK,CAAC,CAAC,IAAI,IAAG;MACnBjB,IAAI,CAACiB,KAAK,CAAC,CAAC,IAAIN,KAAI;IACxB;;IAEA;IACA,SAASa,SAASA,CAAA,EAAE;MAChBtB,GAAG,CAACe,KAAK,CAAC,CAAC,CAAC,GAAC,KAAI;MACjBf,GAAG,CAACe,KAAK,CAAC,CAAC,CAAC,GAAC,EAAC;MACd,IAAIQ,QAAO,GAAIC,SAAS,CAACC,KAAK,CAAC,CAAC,CAAC;MACjCN,OAAO,CAACC,GAAG,CAACG,QAAQ;MACpBC,SAAS,CAACE,IAAI,CAAC;QAACjB,KAAK,EAACc,QAAQ,GAAC,CAAC;QAAElB,QAAQ,EAAC,MAAM;QAAEK,UAAU,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAS,CAAC;MACrFd,WAAW,CAACkB,KAAI,GAAI,IAAG;MACvBI,OAAO,CAACC,GAAG,CAACI,SAAS;IACzB;;IAEA;IACA,SAASG,UAAUA,CAACC,KAAK,EAAC;MACtBT,OAAO,CAACC,GAAG,CAAC,MAAM;MAClBI,SAAS,CAACI,KAAK,CAACnB,KAAK,IAAI;QAACA,KAAK,EAAC,CAAC;QAAEJ,QAAQ,EAAC,MAAM;QAAEK,UAAU,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAS;MACrFb,IAAI,CAACiB,KAAK,CAAC,CAAC,CAAC,GAAC,KAAI;MAClBjB,IAAI,CAACiB,KAAK,CAAC,CAAC,CAAC,GAAC,CAAC;MACflB,WAAW,CAACkB,KAAI,GAAI,IAAG;IAC3B;;IAGA;IACA,SAASc,eAAeA,CAAA,EAAE;MACtBV,OAAO,CAACC,GAAG,CAAC,IAAI;MAChBvB,WAAW,CAACkB,KAAK,GAAC,KAAI;IAC1B;IAEA,OAAM;MACFR,UAAU;MACV;MACAK,MAAM;MACNC,QAAQ;MACRC,WAAW;MACXE,WAAW;MACXa,eAAe;MACfR,eAAe;MACfpB,YAAY;MACZI,QAAQ;MACRP,IAAI;MACJE,GAAG;MACH2B,UAAU;MACVL,SAAS;MACTL,OAAO;MACPpB,WAAW;MACXS,WAAW;MACXF;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}