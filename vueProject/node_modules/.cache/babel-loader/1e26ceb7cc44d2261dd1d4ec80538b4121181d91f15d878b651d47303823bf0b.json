{"ast":null,"code":"import { useStore } from 'vuex';\nimport { computed, ref } from \"vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"popup_inputStandard\",\n  methods: {},\n  components: {},\n  setup() {\n    const store = useStore();\n    var group_name = computed(() => store.state.group_name);\n    var picked = ref('');\n    var standardYear = ref(0);\n    var standardEmission = ref(0);\n    var standardEmission1 = ref(0);\n    var standardEmission2 = ref(0);\n    var standardEmission3 = ref(0);\n    var server_EmissionInfo = ref({\n      groupName: '',\n      BaseYear: 0,\n      BaseEmissions: 0\n    });\n    function close() {\n      store.commit('OffGroupInfo');\n    }\n    var config = {\n      headers: {\n        \"Authorization\": \"Bearer\" + \" \" + store.state.accessToken\n      }\n    };\n    async function set_base_info(list) {\n      var url = \"/CarbonNature/EvaluationInfo\";\n      console.log(store.state.accessToken);\n      axios.post(url, list, config).then(res => {\n        console.log('기준년도 입력', sumfun(res.data));\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {});\n    }\n    function saveBaseEmission() {\n      server_EmissionInfo.value.groupName = group_name.value;\n      server_EmissionInfo.value.BaseYear = standardYear.value;\n      server_EmissionInfo.value.BaseEmissions = parseInt((standardEmission1.value + standardEmission2.value + standardEmission3.value) / 3) + standardEmission.value;\n      set_base_info(server_EmissionInfo.value);\n      close();\n    }\n    return {\n      group_name,\n      saveBaseEmission,\n      close,\n      picked,\n      standardYear,\n      standardEmission1,\n      standardEmission2,\n      standardEmission3,\n      standardEmission\n    };\n  }\n};","map":{"version":3,"names":["useStore","computed","ref","axios","name","methods","components","setup","store","group_name","state","picked","standardYear","standardEmission","standardEmission1","standardEmission2","standardEmission3","server_EmissionInfo","groupName","BaseYear","BaseEmissions","close","commit","config","headers","accessToken","set_base_info","list","url","console","log","post","then","res","sumfun","data","catch","error","finally","saveBaseEmission","value","parseInt"],"sources":["C:\\Users\\user\\Desktop\\CarbonVueproject\\co2-emission-management\\vueProject\\src\\components\\evaluation\\dash2\\popup_inputStandard.vue"],"sourcesContent":["<template>\r\n    <div class=\"active\" style=\"float: right;\">\r\n        <div style=\"padding: 10% 25% 10% 25%;\">\r\n            <div>\r\n                <div style=\"float: left; background: #ffffff; padding:2vh; width:30vw; font-size:1.8vh; border: 1px solid #E4E5E6; border-radius: 10px 10px 10px 10px;\">\r\n                    <button class=\"del_edit_btn\" style=\"cursor: pointer;\" type=\"button\" @click=\"close()\">x</button>\r\n                    <div style=\"padding-left: 0.5vw\">\r\n                        <div style=\"font-size: 2vh\">\r\n                            <div style=\"padding-top: 3vh; font-weight: bold; font-size: 2vh; color:#5A5A5A;\">기관명 : \r\n                                <span style=\"margin-left: 1vw; font-weight: bold; font-size: 3vh; color: #5A5A5A;\">{{ group_name }}</span>\r\n                            </div>\r\n                            <div class=\"standard\">기준연도\r\n                                <br>\r\n                                <input class=\"input_standard\" v-model=\"standardYear\" type=\"number\" pattern=\"[0-9]{4}\" title=\"형식 YYYY\" required>\r\n                            </div>\r\n                            <div class=\"standard\">탄소 배출 기준량\r\n                                <div style=\"font-size: 1.5vh; margin-left: 0.5vw; padding: 2vh 0 1vh 0;\">\r\n                                    <input type=\"radio\" v-model=\"picked\" value=\"self\">\r\n                                    <label for=\"self\">직접 입력</label>\r\n                                    <input style=\"margin-left: 2vw;\" type=\"radio\" v-model=\"picked\" value=\"non-self\">\r\n                                    <label for=\"non-self\">모름</label>\r\n                                </div>\r\n                                <span id=\"inputStandard\" v-if=\"picked=='self'\">\r\n                                    <input class=\"input_standard\" v-model=\"standardEmission\" type=\"number\" required ><span style=\"margin-left: 1vw\">CO2eq</span>\r\n                                </span>\r\n                                <span v-else-if=\"picked=='non-self'\">\r\n                                    <span style=\"font-size: 1.5vh; margin-top: 2vh; margin-left: 0.5vw;\">기준년도 직전 3개년 탄소 배출량</span>\r\n                                    <br>\r\n                                    <input class=\"input_standard\" v-model=\"standardEmission1\" type=\"number\" required><span style=\"margin-left: 1vw\">CO2eq</span>\r\n                                    <input class=\"input_standard\" v-model=\"standardEmission2\" type=\"number\"><span style=\"margin-left: 1vw\">CO2eq</span>\r\n                                    <input class=\"input_standard\" v-model=\"standardEmission3\" type=\"number\"><span style=\"margin-left: 1vw\">CO2eq</span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <button class=\"input-button\" @click=\"saveBaseEmission()\" type=\"button\" style=\"margin-top: 5vh; float: right;\">저장하기</button>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style>\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n.standard{\r\n    font-weight: bold; \r\n    font-size: 2vh; \r\n    color:#5A5A5A; \r\n    padding-top: 2.5vh;\r\n}\r\n.input_standard {\r\n    width:17vw; \r\n    height:3vh; \r\n    font-size: 1.5vh; \r\n    margin-left: 0.5vw;\r\n    margin-top: 1vh;\r\n\r\n    border: 1px solid #D0D0D0;\r\n    border-radius: 10px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport {useStore} from 'vuex'\r\nimport { computed , ref} from \"vue\";\r\nimport axios from \"axios\"\r\n\r\n    export default {\r\n      name :\"popup_inputStandard\",\r\n      methods: {\r\n      },\r\n      components:{\r\n      },\r\n      setup() {\r\n        const store = useStore()\r\n        var group_name = computed(()=> store.state.group_name)\r\n        var picked= ref('')\r\n        var standardYear= ref(0)\r\n        var standardEmission= ref(0)\r\n        var standardEmission1= ref(0)\r\n        var standardEmission2= ref(0)\r\n        var standardEmission3=ref(0)\r\n\r\n        var server_EmissionInfo=ref({\r\n            groupName: '',\r\n            BaseYear: 0,\r\n            BaseEmissions:0\r\n        })\r\n\r\n\r\n        function close(){\r\n            store.commit('OffGroupInfo')\r\n        }\r\n\r\n        var config = {\r\n                    headers:{\r\n                    \"Authorization\":\"Bearer\"+\" \"+store.state.accessToken\r\n                    }\r\n                }\r\n\r\n        async function set_base_info(list){\r\n            var url = \"/CarbonNature/EvaluationInfo\"\r\n            \r\n            console.log(store.state.accessToken)\r\n            axios.post(url,list,config).then(res=>{\r\n            console.log('기준년도 입력',sumfun(res.data))\r\n            })\r\n            .catch(error => {\r\n            console.log(error)\r\n            })\r\n            .finally(()=>{\r\n            })\r\n        }\r\n        function saveBaseEmission(){\r\n            server_EmissionInfo.value.groupName = group_name.value\r\n            server_EmissionInfo.value.BaseYear = standardYear.value\r\n            server_EmissionInfo.value.BaseEmissions = parseInt((standardEmission1.value+standardEmission2.value+standardEmission3.value)/3) + standardEmission.value\r\n            set_base_info(server_EmissionInfo.value)\r\n            close()\r\n        }\r\n        return{\r\n            group_name,saveBaseEmission,close,picked,standardYear,standardEmission1,standardEmission2,standardEmission3,standardEmission\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n</script>"],"mappings":"AAoEA,SAAQA,QAAQ,QAAO,MAAK;AAC5B,SAASC,QAAO,EAAIC,GAAG,QAAO,KAAK;AACnC,OAAOC,KAAI,MAAO,OAAM;AAEpB,eAAe;EACbC,IAAG,EAAG,qBAAqB;EAC3BC,OAAO,EAAE,CACT,CAAC;EACDC,UAAU,EAAC,CACX,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIR,QAAQ,EAAC;IACvB,IAAIS,UAAS,GAAIR,QAAQ,CAAC,MAAKO,KAAK,CAACE,KAAK,CAACD,UAAU;IACrD,IAAIE,MAAM,GAAET,GAAG,CAAC,EAAE;IAClB,IAAIU,YAAY,GAAEV,GAAG,CAAC,CAAC;IACvB,IAAIW,gBAAgB,GAAEX,GAAG,CAAC,CAAC;IAC3B,IAAIY,iBAAiB,GAAEZ,GAAG,CAAC,CAAC;IAC5B,IAAIa,iBAAiB,GAAEb,GAAG,CAAC,CAAC;IAC5B,IAAIc,iBAAiB,GAACd,GAAG,CAAC,CAAC;IAE3B,IAAIe,mBAAmB,GAACf,GAAG,CAAC;MACxBgB,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,CAAC;MACXC,aAAa,EAAC;IAClB,CAAC;IAGD,SAASC,KAAKA,CAAA,EAAE;MACZb,KAAK,CAACc,MAAM,CAAC,cAAc;IAC/B;IAEA,IAAIC,MAAK,GAAI;MACDC,OAAO,EAAC;QACR,eAAe,EAAC,QAAQ,GAAC,GAAG,GAAChB,KAAK,CAACE,KAAK,CAACe;MACzC;IACJ;IAER,eAAeC,aAAaA,CAACC,IAAI,EAAC;MAC9B,IAAIC,GAAE,GAAI,8BAA6B;MAEvCC,OAAO,CAACC,GAAG,CAACtB,KAAK,CAACE,KAAK,CAACe,WAAW;MACnCtB,KAAK,CAAC4B,IAAI,CAACH,GAAG,EAACD,IAAI,EAACJ,MAAM,CAAC,CAACS,IAAI,CAACC,GAAG,IAAE;QACtCJ,OAAO,CAACC,GAAG,CAAC,SAAS,EAACI,MAAM,CAACD,GAAG,CAACE,IAAI,CAAC;MACtC,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QAChBR,OAAO,CAACC,GAAG,CAACO,KAAK;MACjB,CAAC,EACAC,OAAO,CAAC,MAAI,CACb,CAAC;IACL;IACA,SAASC,gBAAgBA,CAAA,EAAE;MACvBtB,mBAAmB,CAACuB,KAAK,CAACtB,SAAQ,GAAIT,UAAU,CAAC+B,KAAI;MACrDvB,mBAAmB,CAACuB,KAAK,CAACrB,QAAO,GAAIP,YAAY,CAAC4B,KAAI;MACtDvB,mBAAmB,CAACuB,KAAK,CAACpB,aAAY,GAAIqB,QAAQ,CAAC,CAAC3B,iBAAiB,CAAC0B,KAAK,GAACzB,iBAAiB,CAACyB,KAAK,GAACxB,iBAAiB,CAACwB,KAAK,IAAE,CAAC,IAAI3B,gBAAgB,CAAC2B,KAAI;MACvJd,aAAa,CAACT,mBAAmB,CAACuB,KAAK;MACvCnB,KAAK,EAAC;IACV;IACA,OAAM;MACFZ,UAAU;MAAC8B,gBAAgB;MAAClB,KAAK;MAACV,MAAM;MAACC,YAAY;MAACE,iBAAiB;MAACC,iBAAiB;MAACC,iBAAiB;MAACH;IAChH;EACJ;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}